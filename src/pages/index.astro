---
import Layout from '../layouts/Layout.astro';
import heroImage from '../assets/home_hero.jpg';
import rugbyBallIcon from '../assets/rugby_ball.svg';

// Import latest news articles
const newsArticles = [
    {
        id: "season-2026-registration-open",
        title: "Lorem Ipsum Dolor Sit Amet Consectetur",
        excerpt: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",
        author: "Club Admin",
        date: new Date("2024-12-15"),
        image: "https://placehold.co/600x300/981335/FFFFFF?text=News+Article+1"
    },
    {
        id: "first-training-session-success",
        title: "Pellentesque Habitant Morbi Tristique",
        excerpt: "Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae ultricies eget.",
        author: "Coach Smith",
        date: new Date("2024-11-28"),
        image: "https://placehold.co/600x300/c5a043/FFFFFF?text=News+Article+2"
    },
    {
        id: "sponsor-welcome-bendigo-bank",
        title: "Mauris Blandit Aliquet Elit Eget",
        excerpt: "Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus.",
        author: "Club President",
        date: new Date("2024-11-20"),
        image: "https://placehold.co/600x300/333333/FFFFFF?text=News+Article+3"
    }
];

// Sort articles by date (newest first) and take the latest 3
const latestNews = newsArticles.sort((a, b) => b.date.getTime() - a.date.getTime()).slice(0, 3);

// Format date for display
function formatDate(date: Date): string {
    return date.toLocaleDateString('en-AU', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
}
---

<Layout 
    title="Home"
    description="Peninsula Dolphins Rugby League Club - Join our junior teams for Under 7s to Under 12s in 2026. Building community, developing players, and growing rugby league on the Mornington Peninsula."
>
    <!-- Hero Section -->
    <div class="relative bg-zinc-800 text-white">
        <img src={heroImage.src} alt="Peninsula Dolphins team photo" class="absolute inset-0 w-full h-full object-cover opacity-30">
        <div class="relative container mx-auto px-6 py-24 md:py-32 lg:py-48 text-center">
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-4">Welcome to the Peninsula Dolphins Rugby League Club</h1>
            <p class="text-xl md:text-2xl font-light text-zinc-300 max-w-4xl mx-auto">Building community, developing players, and growing the game on the Mornington Peninsula.</p>
        </div>
    </div>

    <!-- Intro and Quick Links -->
    <div class="py-16 md:py-24 bg-white">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto text-center">
                <p class="text-xl md:text-2xl lg:text-3xl text-zinc-600 leading-relaxed mb-8">
                    We're one of the newest rugby league clubs in Victoria, and we're here to give local boys and girls the chance to play, learn, and love the greatest game of all. At the Peninsula Dolphins, every child gets the opportunity to develop their skills, have fun, and make lifelong friendships.
                </p>
                <!-- Primary CTA -->
                <div class="mb-8">
                    <a href="/registration-form" class="inline-flex items-center gap-3 bg-primary text-white font-bold py-6 px-12 rounded-lg text-xl hover:bg-primary-dark transition-all duration-300 transform hover:scale-105 shadow-lg">
                        <img src={rugbyBallIcon.src} alt="Rugby Ball" class="w-6 h-6 rugby-ball-icon">
                        Register Now
                    </a>
                </div>
                <!-- Secondary Links -->
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                    <a href="/about" class="w-full sm:w-auto bg-zinc-200 text-zinc-800 font-semibold py-3 px-6 rounded-lg hover:bg-zinc-300 transition-all duration-300">About Us</a>
                    <a href="/sponsors" class="w-full sm:w-auto bg-zinc-200 text-zinc-800 font-semibold py-3 px-6 rounded-lg hover:bg-zinc-300 transition-all duration-300">Sponsors</a>
                    <a href="/merch" class="w-full sm:w-auto bg-zinc-200 text-zinc-800 font-semibold py-3 px-6 rounded-lg hover:bg-zinc-300 transition-all duration-300">Merch</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Latest News Section -->
    <div class="py-16 md:py-24 bg-zinc-50">
        <div class="container mx-auto px-6">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-primary mb-4">Latest News</h2>
                    <p class="text-lg text-zinc-600 max-w-2xl mx-auto">Stay up to date with everything happening at the Peninsula Dolphins</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    {latestNews.map(article => (
                        <article class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                            <img src={article.image} alt={article.title} class="w-full h-48 object-cover">
                            <div class="p-6">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-xs text-zinc-500">{formatDate(article.date)}</span>
                                    <span class="text-xs text-zinc-500">By {article.author}</span>
                                </div>
                                <h3 class="text-xl font-bold text-zinc-800 mb-3 line-clamp-2">{article.title}</h3>
                                <p class="text-zinc-600 text-sm leading-relaxed mb-4 line-clamp-3">{article.excerpt}</p>
                                <a href={`/news/${article.id}`} class="inline-flex items-center text-primary font-semibold hover:text-primary-dark transition-colors duration-300">
                                    Read More
                                    <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </a>
                            </div>
                        </article>
                    ))}
                </div>

                <div class="text-center">
                    <a href="/news" class="inline-flex items-center gap-2 bg-zinc-200 text-zinc-800 font-semibold py-3 px-8 rounded-lg hover:bg-zinc-300 transition-all duration-300">
                        View All News
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- CTA Banner -->
    <div class="bg-secondary">
        <div class="container mx-auto px-6 py-12 text-center">
            <h2 class="text-2xl md:text-3xl font-bold text-primary">"Join the Dolphins in 2026 â€“ spots open now for all ages!"</h2>
        </div>
    </div>
</Layout>

<style>
.rugby-ball-icon {
    filter: brightness(0) saturate(100%) invert(82%) sepia(68%) saturate(401%) hue-rotate(354deg) brightness(95%) contrast(90%);
    transition: filter 0.3s ease;
}

/* Gold color filter for the rugby ball icon */
.rugby-ball-icon {
    filter: brightness(0) saturate(100%) invert(75%) sepia(34%) saturate(1280%) hue-rotate(2deg) brightness(102%) contrast(89%);
}

/* Hover effect to make the icon slightly brighter */
a:hover .rugby-ball-icon {
    filter: brightness(0) saturate(100%) invert(85%) sepia(34%) saturate(1280%) hue-rotate(2deg) brightness(112%) contrast(95%);
}

/* Text truncation styles */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
</style>
